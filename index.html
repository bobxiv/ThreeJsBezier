<!DOCTYPE html>
<html>
<head>
   <title>Iniciando con Three.js</title>
   <style>canvas { width: 100%; height: 100% }</style>
</head>
<body>
   <script src="https://ajax.googleapis.com/ajax/libs/threejs/r76/three.min.js"></script>                <!--Incluyendo la biblioteca-->
   <script src="Bezier.js"></script>
   <script>
		window.onload = function() {
  var scene = new THREE.Scene(); // creamos la escena
  // creamos la camara
  var ratio = window.innerWidth / window.innerHeight;
  var sceneHalfHeight = 50;
  var camera = new THREE.OrthographicCamera(
    -ratio*sceneHalfHeight, // Left
    ratio*sceneHalfHeight, // Right
    -sceneHalfHeight, // Bottom
    sceneHalfHeight, // Top
    0.1, // near clipping plane
    1000 // far clipping plane
  );
  camera.position.set(0, 0, 100);
  camera.lookAt(new THREE.Vector3(0, 0, 0));
  // creamos el renderer
  var renderer = new THREE.WebGLRenderer({
    alpha: true, // transparent background
    antialias: true // smooth edges
  });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement); // agregamos el renderer al DOM

  // creamos el material
  var material = new THREE.LineBasicMaterial({
    color: 0x0000ff
  });
  
  // creamos la geometria
  var geometry = new THREE.Geometry();
  geometry.vertices.push(new THREE.Vector3(-10, 0, 0));
  geometry.vertices.push(new THREE.Vector3(0, 10, 0));
  geometry.vertices.push(new THREE.Vector3(10, 0, 0));
  
  // creamos la linea
  //var line = new THREE.Line(geometry, material);
  //scene.add(line);
  
  var curva = new Bezier(scene);
  curva.agregarPuntoControl(new THREE.Vector3(-10, 0,0));
  curva.agregarPuntoControl(new THREE.Vector3(  0,10,0));
  curva.agregarPuntoControl(new THREE.Vector3( 10, 0,0));

  // callback de renderizado
  var render = function() {
    requestAnimationFrame(render);
    //curva.dibujarPuntosControl();
    console.log(curva.evaluar(0));
	console.log(curva.evaluar(0.5));
	console.log(curva.evaluar(1));
    curva.dibujar(10);
    renderer.render(scene, camera);
  };

  render();
};
   </script>
</body>
</html>
